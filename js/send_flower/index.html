<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>talk in js-代理模式</title>
</head>
<body>
<script>
    //object
    //描述的方式对象是怎样的就出来了
    //对象字面量 JSON Object
const dmh={
    name:'丁梦淮',
    age:21,
    yz:46,
    single:false,
    hometown:'淮滨',
    room:115,
    //上面的属性
    //函数功能 行为
    //target 形参
    sendFlower:function(target){
        console.log(target.name);
        target.receiveFlower(dmh);
       
    }
};

const lingling={
    name:'玲玲',
    age:17,
    mood:100,
    receiveFlower:function(sender){
        //如果mood 大于85 收花，拒绝 if/else 
        if(lingling.mood>80){
            console.log('收到了花');
        }else{
            console.log('不收花');
        }
        //if(sender.yz<85){
          //  console.log('收到了花，但是没空， 不可能有空');
       // }else{
         //   console.log('备胎排队一下');
        //}
        //console.log('收到了花');
    },
    listenGoodMood:function(){
        //心情不好
        //定时器
        //console.log('本公主谁都不想见');
        setTimeout(function(){
        //console.log('本公主心情变好了');
        lingling.receiveFlower();
        }, 3000);
    }

}
//送花 A->B A->C->B
//A 送花 send_flower
//C 收花 转送给B
//B 收花 receive_flower
const huahua={
    name:'花花',
    //与玲玲实现了同样的接口
    receiveFlower:function(sender){
        //心情好,再送
        //lingling.receiveFlower(sender);
        //代理者，监听一下lingling的心情
        lingling.listenGoodMood(function(){

        })
    }

}
</script>
</body>
</html>